

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dynamic Stock Model &mdash; MISO2  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="ODYM Functions" href="ODYM_functions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MISO2
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../background/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/usage.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database/database.html">Database</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="API_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="API_reference.html#input">Input</a></li>
<li class="toctree-l2"><a class="reference internal" href="API_reference.html#model-core">Model core</a></li>
<li class="toctree-l2"><a class="reference internal" href="API_reference.html#output">Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="API_reference.html#utilities">Utilities</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="API_reference.html#odym">ODYM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ODYM_classes.html">ODYM Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="ODYM_functions.html">ODYM Functions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Dynamic Stock Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#odym.dynamic_stock_model.DynamicStockModel"><code class="docutils literal notranslate"><span class="pre">DynamicStockModel</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MISO2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="API_reference.html">API Reference</a></li>
      <li class="breadcrumb-item active">Dynamic Stock Model</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/socialecologyboku/MISO2/blob/master/docs/source/modules/dynamic_stock_model.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-odym.dynamic_stock_model">
<span id="dynamic-stock-model"></span><h1>Dynamic Stock Model<a class="headerlink" href="#module-odym.dynamic_stock_model" title="Link to this heading"></a></h1>
<p>Class DynamicStockModel
Check <a class="reference external" href="https://github.com/IndEcol/ODYM">https://github.com/IndEcol/ODYM</a> for latest version.</p>
<p>Methods for efficient handling of dynamic stock models (DSMs)</p>
<p>Created on Mon Jun 30 17:21:28 2014</p>
<p>&#64;author: Stefan Pauliuk, NTNU Trondheim, Norway, later Uni Freiburg, Germany
with contributions from
Sebastiaan Deetman, CML, Leiden, NL
Tomer Fishman, IDC Herzliya, IL
Chris Mutel, PSI, Villingen, CH</p>
<p>standard abbreviation: DSM or dsm</p>
<dl class="simple">
<dt>dependencies:</dt><dd><p>numpy &gt;= 1.9
scipy &gt;= 0.14</p>
</dd>
</dl>
<p>Repository for this class, documentation, and tutorials: <a class="reference external" href="https://github.com/IndEcol/ODYM">https://github.com/IndEcol/ODYM</a></p>
<dl class="py class">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odym.dynamic_stock_model.</span></span><span class="sig-name descname"><span class="pre">DynamicStockModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o_c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DSM'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel" title="Link to this definition"></a></dt>
<dd><p>Class containing a dynamic stock model</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.t">
<span class="sig-name descname"><span class="pre">t</span></span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.t" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Series of years or other time intervals</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.i">
<span class="sig-name descname"><span class="pre">i</span></span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.i" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Discrete time series of inflow to stock</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.o">
<span class="sig-name descname"><span class="pre">o</span></span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.o" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Discrete time series of outflow from stock</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.o_c">
<span class="sig-name descname"><span class="pre">o_c</span></span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.o_c" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Discrete time series of outflow from stock, by cohort</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.s_c">
<span class="sig-name descname"><span class="pre">s_c</span></span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.s_c" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dynamic stock model (stock broken down by year and age- cohort)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.s">
<span class="sig-name descname"><span class="pre">s</span></span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.s" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Discrete time series for stock, total</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.lt">
<span class="sig-name descname"><span class="pre">lt</span></span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.lt" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>lifetime distribution: dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.pdf" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>probability density function, distribution of outflow from a specific age-cohort</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.sf">
<span class="sig-name descname"><span class="pre">sf</span></span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.sf" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>survival function for different age-cohorts, year x age-cohort table</p>
</dd>
</dl>
</dd></dl>

<dl class="simple">
<dt>name<span class="classifier">string, optional</span></dt><dd><p>Name of the dynamic stock model, default is ‘DSM’</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.check_stock_balance">
<span class="sig-name descname"><span class="pre">check_stock_balance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.check_stock_balance" title="Link to this definition"></a></dt>
<dd><p>Check wether inflow, outflow, and stock are balanced. If possible,
the method returns the vector ‘Balance’, where Balance = inflow - outflow - stock_change</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_evolution_initialstock">
<span class="sig-name descname"><span class="pre">compute_evolution_initialstock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">InitialStock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SwitchTime</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_evolution_initialstock" title="Link to this definition"></a></dt>
<dd><p>Assume InitialStock is a vector that contains the age structure of the stock at time t0,
and it covers as many historic cohorts as there are elements in it.
This method then computes the future stock and outflow from the year SwitchTime onwards.
Only future years, i.e., years after SwitchTime, are computed.
NOTE: This method ignores and deletes previously calculated s_c and o_c.
The InitialStock is a vector of the age-cohort composition of the stock at SwitchTime, with length SwitchTime</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_i_from_s">
<span class="sig-name descname"><span class="pre">compute_i_from_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">InitialStock</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_i_from_s" title="Link to this definition"></a></dt>
<dd><p>Given a stock at t0 broken down by different cohorts tx … t0, an “initial stock”.
This method calculates the original inflow that generated this stock.
Example:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_o_c_from_s_c">
<span class="sig-name descname"><span class="pre">compute_o_c_from_s_c</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_o_c_from_s_c" title="Link to this definition"></a></dt>
<dd><p>Compute outflow by cohort from stock by cohort.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_outflow_mb">
<span class="sig-name descname"><span class="pre">compute_outflow_mb</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_outflow_mb" title="Link to this definition"></a></dt>
<dd><p>Compute outflow from process via mass balance.
Needed in cases where lifetime is zero.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_outflow_pdf">
<span class="sig-name descname"><span class="pre">compute_outflow_pdf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_outflow_pdf" title="Link to this definition"></a></dt>
<dd><p>Lifetime model. The method compute outflow_pdf returns an array year-by-cohort of the probability of a item
added to stock in year m (aka cohort m) leaves in in year n. This value equals pdf(n,m).
The pdf is computed from the survival table sf, where the type of the lifetime distribution enters.
The shape of the output pdf array is NoofYears * NoofYears, but the meaning is years by age-cohorts.
The method does nothing if the pdf alreay exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_outflow_total">
<span class="sig-name descname"><span class="pre">compute_outflow_total</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_outflow_total" title="Link to this definition"></a></dt>
<dd><p>Determine total outflow as row sum of cohort-specific outflow.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_s_c_inflow_driven">
<span class="sig-name descname"><span class="pre">compute_s_c_inflow_driven</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_s_c_inflow_driven" title="Link to this definition"></a></dt>
<dd><p>With given inflow and lifetime distribution, the method builds the stock by cohort.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_sf">
<span class="sig-name descname"><span class="pre">compute_sf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_sf" title="Link to this definition"></a></dt>
<dd><p>Survival table self.sf(m,n) denotes the share of an inflow in year n (age-cohort) still present at the end of
year m (after m-n years). The computation is self.sf(m,n) = ProbDist.sf(m-n), where ProbDist is the appropriate
scipy function for the lifetime model chosen.
For lifetimes 0 the sf is also 0, meaning that the age-cohort leaves during the same year of the inflow.
The method compute outflow_sf returns an array year-by-cohort of the surviving fraction of a flow added to stock</p>
<blockquote>
<div><p>in year m (aka cohort m) in in year n. This value equals sf(n,m).</p>
</div></blockquote>
<p>This is the only method for the inflow-driven model where the lifetime distribution directly enters the
computation. All other stock variables are determined by mass balance.
The shape of the output sf array is NoofYears * NoofYears, and the meaning is years by age-cohorts.
The method does nothing if the sf alreay exists. For example, sf could be assigned to the dynamic stock model</p>
<blockquote>
<div><p>from an exogenous computation to save time.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_stock_change">
<span class="sig-name descname"><span class="pre">compute_stock_change</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_stock_change" title="Link to this definition"></a></dt>
<dd><p>Determine stock change from time series for stock. Formula: stock_change(t) = stock(t) - stock(t-1).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_stock_driven_model">
<span class="sig-name descname"><span class="pre">compute_stock_driven_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NegativeInflowCorrect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_stock_driven_model" title="Link to this definition"></a></dt>
<dd><p>With given total stock and lifetime distribution,
the method builds the stock by cohort and the inflow.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_stock_driven_model_initialstock">
<span class="sig-name descname"><span class="pre">compute_stock_driven_model_initialstock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">InitialStock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SwitchTime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NegativeInflowCorrect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_stock_driven_model_initialstock" title="Link to this definition"></a></dt>
<dd><p>With given total stock and lifetime distribution, the method builds the stock by cohort and the inflow.
The extra parameter InitialStock is a vector that contains the age structure of the stock at the END of the year</p>
<blockquote>
<div><p>Switchtime -1 = t0.</p>
</div></blockquote>
<p><strong>*
Convention 1: Stocks are measured AT THE END OF THE YEAR. Flows occur DURING THE YEAR.
Convention 2: The model time t spans both historic and future age-cohorts, and the index SwitchTime -1
indicates the first future age-cohort.
Convention 3: SwitchTime = len(InitialStock) + 1, that means SwitchTime is counted starting from 1 and not 0.
Convention 4: The future stock time series has 0 as its first len(InitialStock) elements.
*</strong>
In the year SwitchTime the model switches from the historic stock to the stock-driven approach.
The year SwitchTime is the first year with the stock-driven approach.
InitialStock contains the age-cohort composition of the stock AT THE END of year SwitchTime -1.</p>
<blockquote>
<div><p>InitialStock must have length = SwithTime -1.</p>
</div></blockquote>
<p>For the option “NegativeInflowCorrect”, see the explanations for the method compute_stock_driven_model(self,
NegativeInflowCorrect = True).
NegativeInflowCorrect only affects the future stock time series and works exactly as for the stock-driven model
without initial stock.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_stock_driven_model_initialstock_typesplit">
<span class="sig-name descname"><span class="pre">compute_stock_driven_model_initialstock_typesplit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">FutureStock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">InitialStock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SFArrayCombined</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">TypeSplit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_stock_driven_model_initialstock_typesplit" title="Link to this definition"></a></dt>
<dd><p>With given total future stock and lifetime distribution, the method builds the stock by cohort and the inflow.
The age structure of the initial stock is given for each technology, and a type split of total inflow into
different technology types is given as well.</p>
<p>SPECIFICATION: Stocks are always measured AT THE END of the discrete time interval.</p>
<dl>
<dt>Indices:</dt><dd><p>t: time: Entire time frame: from earliest age-cohort to latest model year.
c: age-cohort: same as time.
T: Switch time: DEFINED as first year where historic stock is NOT present, = last year where historic stock</p>
<blockquote>
<div><dl class="simple">
<dt>is present +1.</dt><dd><p>Switchtime is calculated internally, by subtracting the length of the historic stock from the total model
length.</p>
</dd>
</dl>
</div></blockquote>
<p>g: product type</p>
</dd>
<dt>Data:</dt><dd><p>FutureStock[t],           total future stock at end of each year, starting at T
InitialStock[c,g],        0…T-1;0…T-1, stock at the end of T-1, by age-cohort c, ranging from 0…T-1, and product type g</p>
<blockquote>
<div><p>c-dimension has full length, all future years must be 0.</p>
</div></blockquote>
<dl class="simple">
<dt>SFArrayCombined[t,c,g],   Survival function of age-cohort c at end of year t for product type g</dt><dd><p>this array spans both historic and future age-cohorts</p>
</dd>
</dl>
<p>Typesplit[t,g],           splits total inflow into product types for future years</p>
</dd>
</dl>
<p>The extra parameter InitialStock is a vector that contains the age structure of the stock at time t0, and it
covers as many historic cohorts as there are elements in it.
In the year SwitchTime the model switches from the historic stock to the stock-driven approach.
Only future years, i.e., years after SwitchTime, are computed and returned.
The InitialStock is a vector of the age-cohort composition of the stock at SwitchTime, with length SwitchTime.
The parameter TypeSplit splits the total inflow into Ng types.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_stock_driven_model_initialstock_typesplit_negativeinflowcorrect">
<span class="sig-name descname"><span class="pre">compute_stock_driven_model_initialstock_typesplit_negativeinflowcorrect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SwitchTime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">InitialStock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SFArrayCombined</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">TypeSplit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NegativeInflowCorrect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_stock_driven_model_initialstock_typesplit_negativeinflowcorrect" title="Link to this definition"></a></dt>
<dd><p>With given total future stock and lifetime distribution, the method builds the stock by cohort and the inflow.
The age structure of the initial stock is given for each technology, and a type split of total inflow into
different technology types is given as well.
For the option “NegativeInflowCorrect”, see the explanations for the method compute_stock_driven_model(self,
NegativeInflowCorrect = True).
NegativeInflowCorrect only affects the future stock time series and works exactly as for the stock-driven model
without initial stock.</p>
<p>SPECIFICATION: Stocks are always measured AT THE END of the discrete time interval.</p>
<dl>
<dt>Indices:</dt><dd><p>t: time: Entire time frame: from earliest age-cohort to latest model year.
c: age-cohort: same as time.
T: Switch time: DEFINED as first year where historic stock is NOT present, = last year where historic stock
is present +1.</p>
<blockquote>
<div><p>Switchtime must be given as argument. Example: if the first three age-cohorts are historic, SwitchTime is
3, which indicates the 4th year.
That also means that the first 3 time-entries for the stock and typesplit arrays must be 0.</p>
</div></blockquote>
<p>g: product type</p>
</dd>
<dt>Data:</dt><dd><dl class="simple">
<dt>s[t],                     total future stock time series, at end of each year, starting at T, trailing 0s for historic years.</dt><dd><p>! is not handed over with the function call but earlier, when defining the dsm.</p>
</dd>
<dt>InitialStock[c,g],        0…T-1;0…T-1, stock at the end of T-1, by age-cohort c, ranging from 0…T-1, and product type g</dt><dd><p>c-dimension has full length, all future years must be 0.</p>
</dd>
<dt>SFArrayCombined[t,c,g],   Survival function of age-cohort c at end of year t for product type g</dt><dd><p>this array spans both historic and future age-cohorts</p>
</dd>
</dl>
<p>Typesplit[t,g],           splits total inflow into product types for future years
NegativeInflowCorrect     BOOL, retains items in stock if their leaving would lead to negative inflows.</p>
</dd>
<dt>The extra parameter InitialStock is a vector that contains the age structure of the stock at time t0, and it</dt><dd><p>covers as many historic cohorts as there are elements in it.</p>
</dd>
</dl>
<p>In the year SwitchTime the model switches from the historic stock to the stock-driven approach.
Only future years, i.e., years after SwitchTime, are computed and returned.
The InitialStock is a vector of the age-cohort composition of the stock at SwitchTime, with length SwitchTime.
The parameter TypeSplit splits the total inflow into Ng types.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.compute_stock_total">
<span class="sig-name descname"><span class="pre">compute_stock_total</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.compute_stock_total" title="Link to this definition"></a></dt>
<dd><p>Determine total stock as row sum of cohort-specific stock.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odym.dynamic_stock_model.DynamicStockModel.dimension_check">
<span class="sig-name descname"><span class="pre">dimension_check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#odym.dynamic_stock_model.DynamicStockModel.dimension_check" title="Link to this definition"></a></dt>
<dd><p>This method checks which variables are present and checks whether data types and dimensions match</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ODYM_functions.html" class="btn btn-neutral float-left" title="ODYM Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Jan Streeck, Benedikt Grammer, Hanspeter Wieland, Barbara Plank, Andre Baumgart, Dominik Wiedenhofer.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>